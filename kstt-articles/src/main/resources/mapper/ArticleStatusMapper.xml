<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kstt.articles.mapper.ArticleStatusMapper">

    <resultMap type="ArticleStatus" id="ArticleStatusResult">
        <id property="statusId" column="status_id"/>
        <result property="statusName" column="status_name"/>
        <result property="statusDesc" column="status_desc"/>
        <result property="sortOrder" column="sort_order"/>
    </resultMap>

    <sql id="selectArticleStatusVo">
        select status_id, status_name, status_desc, sort_order
        from article_status
    </sql>

    <select id="selectStatusByStatusId" parameterType="Integer" resultMap="ArticleStatusResult">
        <include refid="selectArticleStatusVo"/>
        where status_id = #{statusId}
    </select>

    <select id="selectStatusList" parameterType="ArticleStatus" resultMap="ArticleStatusResult">
        <include refid="selectArticleStatusVo"/>
        <where>
            <if test="statusName != null and statusName != ''">
                AND status_name like concat('%', #{statusName}, '%')
            </if>
        </where>
        order by sort_order
    </select>

</mapper>
